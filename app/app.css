/* app/app.css */
@import "tailwindcss" source(".");

/* === Design Tokens === */
@theme {
  --font-sans:
    "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  /* brand colors */
  --color-brand-50:  #FFF7E1;
  --color-brand-100: #FBEFC8;
  --color-brand-200: #F1E2A4;
  --color-brand-300: #E8C872; /* 主黃 */
  --color-brand-400: #D9B45A;
  --color-brand-500: #B9923E;
  --color-brand-600: #8B6C26;

  --color-accent-50:  #F8F5FF;
  --color-accent-100: #EDE8FE;
  --color-accent-200: #DAD3FA;
  --color-accent-300: #BFB4EE;
  --color-accent-400: #7A6AAE; /* 主紫 */
  --color-accent-500: #6B5CA0;
  --color-accent-600: #4C3D81;

  --color-module-hero:     #FFEAC5;
  --color-module-about:    #F6DFFF;
  --color-module-skills:   #DDEBFF;
  --color-module-projects: #DDF8EF;
  --color-module-contact:  #FFE0D9;

  --color-warm-0:   #FFFFFF;
  --color-warm-25:  #FDFCFB;
  --color-warm-50:  #F6F5F2; /* 背景暖白 */
  --color-warm-100: #EEECE6;

  /* radii / shadow */
  --radius-card: 1rem;     /* 16px */
  --shadow-soft: 0 6px 18px rgba(20, 10, 0, 0.06);
  --shadow-hover: 0 10px 26px rgba(20, 10, 0, 0.08);
}

/* === Base === */
html, body {
  color: #1E1B16;
  background:
    radial-gradient(circle at top left, rgba(255, 244, 209, 0.8), rgba(255, 244, 209, 0) 55%),
    radial-gradient(circle at 80% 20%, rgba(219, 208, 253, 0.7), rgba(219, 208, 253, 0) 60%),
    var(--color-warm-50);
  font-family: var(--font-sans);
  @media (prefers-color-scheme: dark) {
    color-scheme: dark;
  }
}
html { scroll-behavior: smooth; }

/* 區塊統一間距與標題 */
.section { @apply py-14 md:py-20; }
.section-title {
  @apply text-2xl md:text-3xl font-semibold tracking-tight text-neutral-900 flex items-center gap-3;
}
.section-title::before {
  content: "";
  width: 40px;
  height: 4px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--color-accent-500), var(--color-brand-400));
  display: inline-block;
}
.eyebrow {
  letter-spacing: 0.24em;
  text-transform: uppercase;
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--color-accent-600);
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}
.eyebrow::before {
  content: "";
  width: 18px;
  height: 1px;
  background: currentColor;
  opacity: 0.6;
}

.module-panel {
  --module-color: var(--color-warm-0);
  position: relative;
  border-radius: 1.75rem;
  padding: clamp(1.75rem, 4vw, 3rem);
  background: color-mix(in oklab, var(--module-color) 85%, white);
  border: 1px solid color-mix(in oklab, var(--module-color) 50%, #6B5CA0 8%);
  box-shadow: 0 30px 70px rgba(17, 12, 5, 0.08);
  overflow: hidden;
}
.module-panel::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 80% 0%, rgba(255,255,255,0.9), transparent 45%);
  mix-blend-mode: screen;
  opacity: 0.4;
}
.module-panel > * { position: relative; z-index: 1; }
.module-hero { --module-color: var(--color-module-hero); }
.module-about { --module-color: var(--color-module-about); }
.module-skills { --module-color: var(--color-module-skills); }
.module-projects { --module-color: var(--color-module-projects); }
.module-contact { --module-color: var(--color-module-contact); }
.animate-room-in {
  animation: room-in 420ms ease both;
  transform-origin: center;
}
/* Sticky tab shell for homepage */
.sticky-tabs-shell {
  background:
    radial-gradient(circle at 20% 40%, rgba(255,244,209,0.6), transparent 45%),
    radial-gradient(circle at 80% 0%, rgba(216,201,255,0.55), transparent 40%),
    linear-gradient(180deg, rgba(255,255,255,0.88), rgba(255,255,255,0.6));
  backdrop-filter: blur(18px);
  border-bottom: 1px solid rgba(0,0,0,0.04);
  box-shadow: 0 12px 32px rgba(50,35,15,0.08);
  border-radius: 0 0 24px 24px;
  position: relative;
}
@media (prefers-color-scheme: dark) {
  .sticky-tabs-shell {
    background:
      radial-gradient(circle at 20% 40%, rgba(124,96,180,0.22), transparent 38%),
      radial-gradient(circle at 80% 0%, rgba(114,168,220,0.22), transparent 32%),
      linear-gradient(180deg, rgba(26,26,30,0.9), rgba(26,26,30,0.8)),
      rgba(26,26,30,0.82);
    border-bottom: 1px solid rgba(255,255,255,0.05);
  }
}
.sticky-tabs {
  gap: 0.6rem;
  justify-content: flex-start;
}
@keyframes room-in {
  from {
    opacity: 0;
    transform: translateX(12px) scale(0.985);
  }
  to {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
}
.module-meta {
  @apply text-sm text-neutral-600;
  opacity: 0.9;
}

/* === Components === */
@layer components {
  .card {
    border-radius: calc(var(--radius-card) * 1.1);
    box-shadow: 0 18px 38px rgba(26, 19, 6, 0.08);
    @apply bg-white/95 border border-[color:rgba(0,0,0,0.08)] p-6 transition-shadow;
  }
  .card:hover { box-shadow: var(--shadow-hover); }

  .input {
    @apply w-full rounded-md border border-neutral-300 bg-white px-3 py-2 outline-none
           focus:ring-2 focus:ring-[--color-accent-200] focus:border-[--color-accent-400];
  }

  /* 移除 @apply btn，直接展開 utility（這樣 Tailwind 才不會報 unknown utility） */
  .btn-primary {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition text-neutral-900;
    background: linear-gradient(180deg, var(--color-brand-200), var(--color-brand-300));
    box-shadow: 0 1px 0 rgba(255,255,255,.6) inset, 0 6px 16px rgba(185,146,62,.18);
  }
  .btn-primary:hover {
    background: linear-gradient(180deg, var(--color-brand-200), var(--color-brand-400));
  }

  .btn-ghost {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-md text-sm font-medium transition text-[--color-accent-500] bg-[color:transparent] hover:bg-[--color-accent-50];
    border: 1px solid var(--color-accent-200);
  }

  .link-soft {
    @apply text-[--color-accent-500] hover:text-[--color-accent-400] underline-offset-4 hover:underline;
  }

  .chip {
    @apply inline-flex items-center gap-2 px-3 py-1 rounded-full text-xs;
    background: color-mix(in oklab, var(--color-accent-50) 70%, white);
    border: 1px solid var(--color-accent-200);
    color: var(--color-accent-500);
  }

  /* 細分隔線：比實線更柔和 */
  .divider {
    background: linear-gradient(90deg, transparent, rgba(0,0,0,.08), transparent);
    height: 1px;
  }

  .stat-pill {
    @apply inline-flex flex-col rounded-2xl px-4 py-3 text-xs uppercase tracking-[0.25em] font-semibold text-neutral-800;
    border: 1px solid rgba(0,0,0,0.08);
    background: rgba(255,255,255,0.45);
    backdrop-filter: blur(6px);
  }

  .skill-card {
    border-radius: 1.25rem;
    padding: 1.5rem;
    background: rgba(255,255,255,0.7);
    border: 1px solid rgba(123,106,174,0.15);
    box-shadow: 0 10px 25px rgba(17, 14, 12, 0.08);
    transition: transform .2s ease, box-shadow .2s ease;
  }
  .skill-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 18px 38px rgba(17, 14, 12, 0.12);
  }

  .hover-raise { transform: translateY(0); transition: transform .2s ease, box-shadow .2s ease; }
  .hover-raise:hover { transform: translateY(-2px); box-shadow: var(--shadow-hover); }
}
